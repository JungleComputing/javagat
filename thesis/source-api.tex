\section{Source/API}
\subsection{Advert.java}
\begin{code}
public class Advert {
	
	private String server       = null;
	private String cookie       = null;
	private static Communications comm = new Communications();
	
	public Advert(String server, String user, String passwd) 
	  throws Exception {
		this.server = server;
		this.cookie = comm.authenticate(server, user, passwd);
	}
	
	/**
	 * Add a {@link byte}[] to the App Engine, at an absolute path, with
	 * {@link MetaData} included, to the datastore. If an entry exists at 
	 * the specified path, that entry gets overwritten, and a warning is 
	 * issued.
	 * 
	 * @param bytes
	 *     {@link byte}[] to be stored.
	 * @param metaData
	 *     {@link MetaData} to be associated with the passed bytes.
	 * @param path
	 *     Absolute path of the new entry.
	 * @throws AppEngineResourcesException
	 *     This exception is thrown when the App Engine runs out of
	 *     resources.
	 */
	public void add(byte[] object, MetaData metaData, String path) 
	  throws Exception {
		JSONArray  jsonarr = new JSONArray();
		JSONObject jsonobj = new JSONObject();

		Iterator<String> itr  = metaData.getAllKeys().iterator();
	
		while (itr.hasNext()) {
			String key = itr.next();
			String value = metaData.get(key);

			if (key == null || value == null) {
				continue; //TODO: (?)
			}
			
			jsonobj.put(key,value);
		}
		
		String base64 = new sun.misc.BASE64Encoder().encode(object);
		
		jsonarr.add(path);
		jsonarr.add(jsonobj);
		jsonarr.add(base64);
		
		comm.httpSend("http://" + server + "/add", this.cookie, 
			jsonarr);
		
        /*
         * TODO: return TTL of data stored at server (optional)?
         */
	}
}
\end{code}

\subsection{Communications.java}
\begin{code}
class Communications {

	/**
	 * Function to set up SSL in the system properties. 
	 */
	private static void setupSsl() {

	}
	
	/**
	 * Function to authenticate to the Google App Engine
	 * @param server
	 *     Server to connect to.
	 * @param user
	 *     User's email address for identification.
	 * @param passwd
	 *     User's password for identification.
	 * @return a {@link String} which contains a cookie with a session ID.
	 * @throws Exception
	 *     Failed to authenticate to the App Engine.
	 */
	String authenticate(String server, String user, String passwd) 
	  throws Exception {

	}
	
	/**
	 * Function to send an object over HTTP.
	 * @param server
	 *     Server to send the object to.
	 * @param cookie
	 *     Cookie for identification.
	 * @param object
	 *     Object to be send to the server.
	 * @return
	 *     Returns the response body in {@link String} format.
	 * @throws Exception
	 *     Failed to send object to server.
	 */
	String httpSend(String server, String cookie, Object object) 
	  throws Exception {

	}
}
\end{code}
