<?xml version="1.0" encoding="UTF-8"?>
<jndiConfig xmlns="http://wsrf.globus.org/jndi/config"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns:wsrf="http://wsrf.globus.org/resources"
            xmlns:commonj="http://wsrf.globus.org/commonj"
            xsi:schemaLocation="http://wsrf.globus.org/resources resource.xsd
            http://wsrf.globus.org/commonj commonj.xsd">
    <global>

        <wsrf:resourceStore name="notificationConsumerHome"
                            class="org.globus.wsrf.impl.notification.NotificationConsumerHome">
            <wsrf:keyType>java.lang.String</wsrf:keyType>
            <wsrf:keyName>{http://www.globus.org/namespaces/2004/06/core}NotificationConsumerKey</wsrf:keyName>
            <wsrf:resourceType>org.globus.wsrf.impl.NotificationConsumerCallbackManagerImpl</wsrf:resourceType>
        </wsrf:resourceStore>

        <wsrf:resourceStore name="subscriptionHome" class="org.globus.wsrf.impl.notification.SubscriptionHome">
            <wsrf:keyType>java.lang.String</wsrf:keyType>
            <wsrf:keyName>{http://www.globus.org/namespaces/2004/06/core}SubscriptionKey</wsrf:keyName>
            <wsrf:resourceType>org.globus.wsrf.impl.notification.PersistentSubscription</wsrf:resourceType>
        </wsrf:resourceStore>

        <commonj:workmanager name="wm/ContainerWorkManager" maximumPoolSize="5"/>

        <commonj:timermanager name="timer/ContainerTimer" poolSize="1"/>

        <resource name="query/eval/xpath"
                  type="org.globus.wsrf.impl.XPathExpressionEvaluator"/>
        <resource name="query/eval/targetedXPath"
                  type="org.globus.wsrf.query.targetedXPath.XalanTargetedXPathExpressionEvaluator"/>
        <resource name="query/ContainerQueryEngine"
                  type="org.globus.wsrf.impl.QueryEngineImpl"/>

        <resource name="topic/eval/simple"
                  type="org.globus.wsrf.impl.SimpleTopicExpressionEvaluator"/>
        <resource name="topic/ContainerTopicExpressionEngine"
                  type="org.globus.wsrf.impl.TopicExpressionEngineImpl"/>
        <resource
                name="providers/GetCurrentMessageProvider/org.globus.wsrf.core.notification.ResourcePropertyValueChangeNotificationElementType"
                type="org.globus.wsrf.impl.notification.NotificationTypeConverter"/>

        <wsrf:resourceStore name="enumeration/EnumerationHome" class="org.globus.ws.enumeration.EnumResourceHome">
            <wsrf:keyType>java.lang.String</wsrf:keyType>
            <wsrf:keyName>{http://www.globus.org/namespaces/2006/06/core}EnumerationKey</wsrf:keyName>
            <wsrf:resourceType>org.globus.ws.enumeration.EnumResource</wsrf:resourceType>
        </wsrf:resourceStore>
    </global>

    <service name="NotificationConsumerService">
        <resourceLink
                name="home"
                target="java:comp/env/notificationConsumerHome"/>
    </service>

    <service name="SubscriptionManagerService">
        <resourceLink
                name="home"
                target="java:comp/env/subscriptionHome"/>
        <wsrf:cache name="cache" timeout="120000"/>        
    </service>

    <service name="gsi/AuthenticationService">
        <wsrf:resourceStore name="home"
                            class="org.globus.wsrf.impl.security.authentication.secureconv.service.SecurityContextHome">
            <wsrf:keyType>java.lang.String</wsrf:keyType>
            <wsrf:keyName>{http://www.globus.org/namespaces/2004/06/core}SecureContextKey</wsrf:keyName>
            <wsrf:resourceType>org.globus.wsrf.impl.security.authentication.secureconv.service.SecurityContext
            </wsrf:resourceType>
        </wsrf:resourceStore>
    </service>
</jndiConfig>
